# 测试执行指南

## 🎯 快速开始（5分钟）

### Step 1: 确认服务运行
```bash
# 检查后端（应该返回 {"success": true}）
curl http://localhost:3000/api/health

# 检查前端（浏览器访问）
http://localhost:5173
```

### Step 2: 运行API测试
```bash
cd backend
npm run test:api
```

**预期结果：** ✅ 22/22 全部通过

---

## 📋 核心功能测试（15分钟）

### 测试流程1：用户注册和登录（3分钟）

1. **打开浏览器访问：** http://localhost:5173

2. **测试注册：**
   - [ ] 点击"注册"按钮
   - [ ] 填写邮箱（如：test123@example.com）
   - [ ] 填写用户名（如：testuser123）
   - [ ] 填写密码（至少6位）
   - [ ] 点击"注册"
   - [ ] ✅ 验证：自动登录并跳转到首页
   - [ ] ✅ 验证：刷新页面后仍保持登录状态

3. **测试登录（如果已注册）：**
   - [ ] 点击"登录"按钮
   - [ ] 输入已注册的邮箱和密码
   - [ ] 点击"登录"
   - [ ] ✅ 验证：成功跳转到首页

4. **测试错误情况：**
   - [ ] 输入错误密码 → 应显示错误提示
   - [ ] 输入不存在的邮箱 → 应显示错误提示
   - [ ] 注册时使用已存在的邮箱 → 应显示错误提示

---

### 测试流程2：发帖功能（4分钟）

1. **创建帖子：**
   - [ ] 点击"发帖"按钮（需要先登录）
   - [ ] 选择分类（如：学习交流）
   - [ ] 填写标题（如：测试帖子标题）
   - [ ] 填写内容（如：这是一条测试帖子内容）
   - [ ] 上传1-2张图片（可选）
   - [ ] 点击"发布"
   - [ ] ✅ 验证：跳转到帖子详情页
   - [ ] ✅ 验证：帖子内容正确显示
   - [ ] ✅ 验证：图片正常显示（如果上传了）

2. **测试表单验证：**
   - [ ] 不填写标题直接提交 → 应提示"标题不能为空"
   - [ ] 不填写内容直接提交 → 应提示"内容不能为空"
   - [ ] 不选择分类直接提交 → 应提示"请选择分类"

---

### 测试流程3：查看和浏览帖子（2分钟）

1. **查看帖子列表：**
   - [ ] 访问首页
   - [ ] ✅ 验证：帖子列表正常显示
   - [ ] ✅ 验证：帖子图片预览正常（如果有图片）
   - [ ] ✅ 验证：帖子信息正确（标题、作者、时间、统计）

2. **查看帖子详情：**
   - [ ] 点击任意帖子
   - [ ] ✅ 验证：帖子详情正常显示
   - [ ] ✅ 验证：图片正常显示（ImageGallery布局）
   - [ ] ✅ 验证：作者信息正确
   - [ ] ✅ 验证：统计数据正确（浏览量、评论数、点赞数）

3. **测试分类筛选：**
   - [ ] 点击首页的分类标签
   - [ ] ✅ 验证：只显示该分类的帖子

---

### 测试流程4：评论功能（3分钟）

1. **发表评论：**
   - [ ] 在帖子详情页滚动到评论区
   - [ ] 输入评论内容（如：这是一条测试评论）
   - [ ] 点击"发表评论"
   - [ ] ✅ 验证：评论立即显示在评论区
   - [ ] ✅ 验证：评论数自动更新

2. **回复评论：**
   - [ ] 点击某条评论的"回复"按钮
   - [ ] 输入回复内容（如：这是对评论的回复）
   - [ ] 点击"回复"
   - [ ] ✅ 验证：回复显示在对应评论下方（嵌套显示）
   - [ ] ✅ 验证：回复数更新

3. **点赞评论：**
   - [ ] 点击评论的"点赞"按钮（❤️）
   - [ ] ✅ 验证：点赞数增加
   - [ ] ✅ 验证：按钮变为红色（已点赞状态）
   - [ ] 再次点击 → ✅ 验证：取消点赞，点赞数减少

---

### 测试流程5：互动功能（2分钟）

1. **点赞帖子：**
   - [ ] 在帖子详情页点击"点赞"按钮
   - [ ] ✅ 验证：点赞数增加
   - [ ] ✅ 验证：按钮变为红色（已点赞状态）
   - [ ] 再次点击 → ✅ 验证：取消点赞

2. **收藏帖子：**
   - [ ] 点击"收藏"按钮
   - [ ] ✅ 验证：收藏状态变化
   - [ ] 再次点击 → ✅ 验证：取消收藏

---

### 测试流程6：搜索功能（2分钟）

1. **关键词搜索：**
   - [ ] 点击导航栏的"搜索"
   - [ ] 输入关键词（如：测试）
   - [ ] ✅ 验证：等待约500ms后自动搜索（防抖）
   - [ ] ✅ 验证：搜索结果正确显示
   - [ ] ✅ 验证：搜索结果包含关键词

2. **分类筛选：**
   - [ ] 在搜索页面选择分类
   - [ ] ✅ 验证：筛选结果正确

3. **分页功能：**
   - [ ] 如果搜索结果超过一页
   - [ ] 点击"下一页"
   - [ ] ✅ 验证：显示下一页结果

---

### 测试流程7：编辑和删除（2分钟）

1. **编辑帖子：**
   - [ ] 访问自己创建的帖子
   - [ ] ✅ 验证：显示"编辑"按钮（仅作者可见）
   - [ ] 点击"编辑"
   - [ ] 修改标题和内容
   - [ ] 添加或删除图片
   - [ ] 点击"保存"
   - [ ] ✅ 验证：修改立即生效

2. **删除评论：**
   - [ ] 找到自己发表的评论
   - [ ] ✅ 验证：显示"删除"按钮（仅作者可见）
   - [ ] 点击"删除"
   - [ ] 确认删除
   - [ ] ✅ 验证：评论消失，评论数更新

---

## 🔍 详细功能测试（可选，30分钟）

### 用户资料功能
- [ ] 访问个人资料页
- [ ] 查看用户信息（用户名、头像、简介）
- [ ] 查看用户发布的帖子列表
- [ ] 编辑个人资料（用户名、简介、头像）
- [ ] 上传新头像
- [ ] ✅ 验证：修改立即生效

### 通知功能
- [ ] 访问通知页面
- [ ] ✅ 验证：通知列表正常显示
- [ ] ✅ 验证：未读通知高亮显示
- [ ] 点击通知 → ✅ 验证：跳转到对应页面
- [ ] 标记单个通知为已读
- [ ] 标记全部为已读

### 学习资料功能
- [ ] 访问学习资料页面
- [ ] 上传资料文件
- [ ] 选择公开/私有
- [ ] ✅ 验证：上传成功
- [ ] 点击下载 → ✅ 验证：文件正常下载

### 私信功能
- [ ] 访问私信页面
- [ ] 发送消息给其他用户
- [ ] ✅ 验证：消息正常发送
- [ ] ✅ 验证：消息正常接收

---

## 📱 响应式测试（10分钟）

### 移动端测试（<768px）
1. **打开浏览器开发者工具（F12）**
2. **切换到移动设备模式**
3. **选择设备：** iPhone 12 Pro 或类似
4. **测试以下功能：**
   - [ ] 导航栏显示菜单按钮（☰）
   - [ ] 点击菜单按钮 → 菜单正常展开/收起
   - [ ] 帖子列表正常显示
   - [ ] 图片正常显示
   - [ ] 表单正常使用
   - [ ] 分页组件简化显示

### 平板端测试（768px-1024px）
- [ ] 布局正常
- [ ] 侧边栏正常显示

### 桌面端测试（>1024px）
- [ ] 完整布局显示
- [ ] 所有功能正常

---

## ⚡ 性能测试（5分钟）

### 使用Chrome DevTools Lighthouse

1. **打开Chrome DevTools（F12）**
2. **切换到"Lighthouse"标签**
3. **选择测试类型：**
   - Performance（性能）
   - Accessibility（可访问性）
   - Best Practices（最佳实践）
4. **点击"Generate report"**
5. **检查指标：**
   - [ ] Performance Score > 80
   - [ ] First Contentful Paint < 1.5s
   - [ ] Time to Interactive < 3s

### 手动检查
- [ ] 首页加载时间 < 2秒
- [ ] 帖子详情页加载时间 < 2秒
- [ ] 图片懒加载正常工作（滚动时加载）
- [ ] API响应时间合理（无长时间等待）

---

## 🐛 Bug记录模板

发现Bug时，请记录：

```
**Bug编号：** #001
**严重程度：** 高/中/低
**功能模块：** [如：帖子功能]
**描述：** [简要描述问题]
**复现步骤：**
1. [步骤1]
2. [步骤2]
3. [步骤3]
**预期结果：** [应该发生什么]
**实际结果：** [实际发生了什么]
**截图：** [如有截图，请附上]
**浏览器：** Chrome 120 / Firefox 121 / Edge 120
**操作系统：** Windows 10
**状态：** 待修复
```

---

## ✅ 测试完成检查

### 必须通过（P0）
- [ ] 用户注册/登录功能正常
- [ ] 发帖/编辑/删除功能正常
- [ ] 评论/回复功能正常
- [ ] 点赞/收藏功能正常
- [ ] 搜索功能正常

### 应该通过（P1）
- [ ] 所有页面正常显示
- [ ] 图片正常加载
- [ ] 分页功能正常
- [ ] 响应式设计正常

### 建议通过（P2）
- [ ] 性能指标达标
- [ ] 错误处理完善
- [ ] 用户体验良好

---

## 📊 测试结果汇总

测试完成后，请填写：

- **测试时间：** [填写]
- **测试用例总数：** [填写]
- **通过数量：** [填写]
- **失败数量：** [填写]
- **Bug数量：** [填写]
- **通过率：** [填写]%

---

**提示：** 
- 测试时请仔细记录每个步骤的结果
- 发现Bug立即记录，不要遗漏
- 测试完成后汇总所有问题，按优先级排序
