# ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å—

## ğŸ“‹ å½“å‰è¿›åº¦

### âœ… å·²å®Œæˆ
1. âœ… ç¯å¢ƒæ­å»º
2. âœ… æ•°æ®åº“è®¾è®¡ï¼ˆ10ä¸ªè¡¨ï¼‰
3. âœ… APIè®¾è®¡ï¼ˆ39ä¸ªæ¥å£ï¼‰
4. âœ… è®¤è¯æœºåˆ¶ï¼ˆJWTï¼‰
5. âœ… ç»Ÿä¸€å“åº”æ ¼å¼
6. âœ… é”™è¯¯å¤„ç†
7. âœ… è®¤è¯è·¯ç”±ï¼ˆ4ä¸ªæ¥å£å·²å®ç°ï¼‰

### â­ï¸ ä¸‹ä¸€æ­¥æ“ä½œ

---

## ğŸ¯ ç«‹å³æ“ä½œï¼ˆæŒ‰é¡ºåºï¼‰

### æ­¥éª¤1ï¼šé…ç½®æ•°æ®åº“ï¼ˆ5-10åˆ†é’Ÿï¼‰

#### 1.1 æ£€æŸ¥PostgreSQLæ˜¯å¦å®‰è£…

```bash
# æ£€æŸ¥PostgreSQLç‰ˆæœ¬
psql --version
```

**å¦‚æœæ²¡æœ‰å®‰è£…ï¼š**
- Windowsï¼šä¸‹è½½å®‰è£… https://www.postgresql.org/download/windows/
- macOSï¼š`brew install postgresql`
- Linuxï¼š`sudo apt install postgresql`

#### 1.2 åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·

```bash
# è¿æ¥PostgreSQL
psql -U postgres

# åœ¨PostgreSQLå‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š
CREATE DATABASE forum;
CREATE USER forum_user WITH PASSWORD 'your_password_here';
GRANT ALL PRIVILEGES ON DATABASE forum TO forum_user;
ALTER USER forum_user CREATEDB;
\q
```

#### 1.3 é…ç½®ç¯å¢ƒå˜é‡

**ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼š**

```env
DATABASE_URL="postgresql://forum_user:your_password_here@localhost:5432/forum?schema=public"
JWT_SECRET="your_very_long_and_secure_jwt_secret_key_here_min_32_chars"
```

**ç”ŸæˆJWTå¯†é’¥ï¼ˆå¯é€‰ï¼‰ï¼š**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

---

### æ­¥éª¤2ï¼šè¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆ2-3åˆ†é’Ÿï¼‰

```bash
cd backend

# ç”ŸæˆPrisma Client
npm run prisma:generate

# åˆ›å»ºå¹¶è¿è¡Œè¿ç§»
npx prisma migrate dev --name init

# è¿è¡Œç§å­æ•°æ®ï¼ˆåˆ›å»ºåˆå§‹åˆ†ç±»ï¼‰
npm run prisma:seed
```

**é¢„æœŸè¾“å‡ºï¼š**
```
âœ… åˆ›å»ºåˆ†ç±»: å­¦ä¹ 
âœ… åˆ›å»ºåˆ†ç±»: ç”Ÿæ´»
âœ… åˆ›å»ºåˆ†ç±»: å¨±ä¹
âœ… åˆ›å»ºåˆ†ç±»: äº¤æ˜“
âœ… åˆ›å»ºåˆ†ç±»: æ´»åŠ¨
âœ… åˆ›å»ºåˆ†ç±»: å…¶ä»–
âœ… ç§å­æ•°æ®åˆ›å»ºå®Œæˆï¼
```

---

### æ­¥éª¤3ï¼šæµ‹è¯•APIæ¥å£ï¼ˆ5åˆ†é’Ÿï¼‰

#### 3.1 å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
cd backend
npm run dev
```

**é¢„æœŸè¾“å‡ºï¼š**
```
ğŸš€ Server is running on http://localhost:3000
ğŸ“š APIæ–‡æ¡£: http://localhost:3000/api/health
```

#### 3.2 æµ‹è¯•å¥åº·æ£€æŸ¥

**ä½¿ç”¨æµè§ˆå™¨è®¿é—®ï¼š**
```
http://localhost:3000/api/health
```

**æˆ–ä½¿ç”¨curlï¼š**
```bash
curl http://localhost:3000/api/health
```

**é¢„æœŸå“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "message": "Server is running",
    "timestamp": "2026-02-06T..."
  }
}
```

#### 3.3 æµ‹è¯•ç”¨æˆ·æ³¨å†Œ

**ä½¿ç”¨curlï¼š**
```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "username": "testuser",
    "password": "password123"
  }'
```

**é¢„æœŸå“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "test@example.com",
      "username": "testuser"
    },
    "token": "jwt_token_here"
  }
}
```

#### 3.4 æµ‹è¯•ç”¨æˆ·ç™»å½•

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

#### 3.5 æµ‹è¯•è·å–å½“å‰ç”¨æˆ·

```bash
# ä½¿ç”¨ä¸Šé¢æ³¨å†Œæ—¶è¿”å›çš„token
curl http://localhost:3000/api/auth/me \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

---

### æ­¥éª¤4ï¼šä½¿ç”¨Prisma StudioæŸ¥çœ‹æ•°æ®ï¼ˆå¯é€‰ï¼‰

```bash
cd backend
npx prisma studio
```

è¿™ä¼šæ‰“å¼€æµè§ˆå™¨ï¼Œæ˜¾ç¤ºæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨å’Œæ•°æ®ã€‚

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- **æ•°æ®åº“é…ç½®æŒ‡å—ï¼š** `docs/æ•°æ®åº“é…ç½®æŒ‡å—.md`
- **APIè®¾è®¡æ–‡æ¡£ï¼š** `docs/APIè®¾è®¡æ–‡æ¡£.md`
- **æ•°æ®åº“è®¾è®¡æ–‡æ¡£ï¼š** `docs/æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md`

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**æ£€æŸ¥ï¼š**
1. PostgreSQLæœåŠ¡æ˜¯å¦è¿è¡Œ
2. æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ˜¯å¦æ­£ç¡®
3. ç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®

**è§£å†³ï¼š**
```bash
# Windowsï¼šæ£€æŸ¥æœåŠ¡
services.msc  # æŸ¥æ‰¾PostgreSQLæœåŠ¡

# Linux/macOSï¼šæ£€æŸ¥æœåŠ¡
sudo systemctl status postgresql
# æˆ–
brew services list
```

### é—®é¢˜2ï¼šè¿ç§»å¤±è´¥

**æ£€æŸ¥ï¼š**
1. æ•°æ®åº“æ˜¯å¦å­˜åœ¨
2. ç”¨æˆ·æ˜¯å¦æœ‰æƒé™
3. Prisma Schemaæ˜¯å¦æ­£ç¡®

**è§£å†³ï¼š**
```bash
# é‡ç½®æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
npx prisma migrate reset

# é‡æ–°è¿è¡Œè¿ç§»
npx prisma migrate dev
```

### é—®é¢˜3ï¼šç§å­æ•°æ®å¤±è´¥

**æ£€æŸ¥ï¼š**
1. æ•°æ®åº“è¿ç§»æ˜¯å¦æˆåŠŸ
2. åˆ†ç±»æ•°æ®æ˜¯å¦å·²å­˜åœ¨

**è§£å†³ï¼š**
```bash
# æ‰‹åŠ¨è¿è¡Œç§å­è„šæœ¬
npm run prisma:seed
```

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

å®Œæˆä»¥ä¸‹æ‰€æœ‰é¡¹åï¼Œå°±å¯ä»¥ç»§ç»­å¼€å‘å…¶ä»–åŠŸèƒ½äº†ï¼š

- [ ] PostgreSQLå·²å®‰è£…å¹¶è¿è¡Œ
- [ ] æ•°æ®åº“`forum`å·²åˆ›å»º
- [ ] ç”¨æˆ·`forum_user`å·²åˆ›å»º
- [ ] `.env`æ–‡ä»¶å·²é…ç½®
- [ ] æ•°æ®åº“è¿ç§»å·²è¿è¡Œ
- [ ] ç§å­æ•°æ®å·²å¯¼å…¥
- [ ] åç«¯æœåŠ¡å™¨å¯ä»¥å¯åŠ¨
- [ ] å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸
- [ ] ç”¨æˆ·æ³¨å†Œæ¥å£æ­£å¸¸
- [ ] ç”¨æˆ·ç™»å½•æ¥å£æ­£å¸¸
- [ ] è·å–å½“å‰ç”¨æˆ·æ¥å£æ­£å¸¸

---

## ğŸš€ å®Œæˆåçš„ä¸‹ä¸€æ­¥

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œå¯ä»¥ï¼š

1. **ç»§ç»­å®ç°å…¶ä»–APIæ¥å£**
   - å¸–å­æ¨¡å—ï¼ˆ5ä¸ªæ¥å£ï¼‰
   - è¯„è®ºæ¨¡å—ï¼ˆ4ä¸ªæ¥å£ï¼‰
   - äº’åŠ¨æ¨¡å—ï¼ˆ4ä¸ªæ¥å£ï¼‰
   - ç­‰ç­‰...

2. **å¼€å§‹å‰ç«¯å¼€å‘**
   - åˆ›å»ºç™»å½•/æ³¨å†Œé¡µé¢
   - åˆ›å»ºå¸–å­åˆ—è¡¨é¡µé¢
   - ç­‰ç­‰...

3. **å®Œå–„åŠŸèƒ½**
   - æ·»åŠ æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
   - æ·»åŠ æœç´¢åŠŸèƒ½
   - ç­‰ç­‰...

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**åˆ›å»ºæ—¥æœŸï¼š** 2026-02-06
