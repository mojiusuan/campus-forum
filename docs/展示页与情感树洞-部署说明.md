# 展示页与情感树洞 - 部署说明

## 功能说明

1. **展示页**：访问站点根路径 `/` 时先看到酷炫展示页（渐变动画背景 + 霓虹悬浮文字 + “进入论坛”按钮），点击后进入 `/forum`。
2. **论坛内「展示页」按钮**：论坛顶部导航有「展示页」链接，可从论坛任意页面回到展示页。
3. **情感树洞**：新增分类「情感树洞」，在该分类下发帖、评论均以「匿名」展示。

## 服务器部署步骤（首次或含数据库变更时）

在完成 `git pull`、后端与前端 `npm install` 及 `npm run build` 后，于服务器执行：

```bash
cd /var/www/forum/backend

# 1. 执行数据库迁移（新增 categories.is_anonymous 字段）
npx prisma migrate deploy

# 2. 执行种子（创建匿名系统用户 + 情感树洞分类；已存在则跳过）
npx tsx prisma/seed.ts

# 3. 重启后端
pm2 restart forum-api
```

前端若有更新（如展示页、展示页按钮），需在 `frontend` 目录执行 `npm run build`，Nginx 会直接使用新的 `dist` 内容。

## 展示页背景视频（可选）

若需使用真实视频作为展示页背景，将视频文件命名为 `landing-bg.mp4` 放入 **frontend/public/** 目录，重新构建前端即可。不放置时使用 CSS 渐变动画背景。

## 情感树洞说明

- 在「情感树洞」分类下发帖、评论时，后端会使用系统匿名账号存储，前端展示为「匿名」。
- 仅在该分类下匿名；其他分类仍显示真实昵称。
